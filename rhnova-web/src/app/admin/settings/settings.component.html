<div class="settings-container">
  <div class="header">
    <h1>Paramètres du Système</h1>
  </div>

  <div class="settings-content">
    <div class="tabs">
      <button 
        class="tab-button"
        [class.active]="activeTab === 'system'"
        (click)="setActiveTab('system')">
        <i class="fas fa-cog"></i>
        Système
      </button>
      <button 
        class="tab-button"
        [class.active]="activeTab === 'email'"
        (click)="setActiveTab('email')">
        <i class="fas fa-envelope"></i>
        Email
      </button>
      <button 
        class="tab-button"
        [class.active]="activeTab === 'security'"
        (click)="setActiveTab('security')">
        <i class="fas fa-shield-alt"></i>
        Sécurité
      </button>
    </div>

    <div class="tab-content">
      <!-- System Settings -->
      <div *ngIf="activeTab === 'system'" class="settings-panel">
        <h2>Paramètres Système</h2>
        <form [formGroup]="systemForm" (ngSubmit)="onSystemSubmit()">
          <div class="form-group">
            <label for="companyName">Nom de l'entreprise</label>
            <input type="text" id="companyName" formControlName="companyName" class="form-control">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="timezone">Fuseau horaire</label>
              <select id="timezone" formControlName="timezone" class="form-control">
                <option value="Europe/Paris">Europe/Paris</option>
                <option value="Europe/London">Europe/London</option>
                <option value="America/New_York">America/New_York</option>
                <option value="Asia/Tokyo">Asia/Tokyo</option>
              </select>
            </div>

            <div class="form-group">
              <label for="dateFormat">Format de date</label>
              <select id="dateFormat" formControlName="dateFormat" class="form-control">
                <option value="dd/MM/yyyy">DD/MM/YYYY</option>
                <option value="MM/dd/yyyy">MM/DD/YYYY</option>
                <option value="yyyy-MM-dd">YYYY-MM-DD</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="language">Langue</label>
              <select id="language" formControlName="language" class="form-control">
                <option value="fr">Français</option>
                <option value="en">English</option>
                <option value="es">Español</option>
              </select>
            </div>

            <div class="form-group">
              <label for="currency">Devise</label>
              <select id="currency" formControlName="currency" class="form-control">
                <option value="EUR">Euro (TND)</option>
                <option value="USD">Dollar ($)</option>
                <option value="GBP">Livre (£)</option>
              </select>
            </div>
          </div>

          <button type="submit" class="btn btn-primary">Sauvegarder</button>
        </form>
      </div>

      <!-- Email Settings -->
      <div *ngIf="activeTab === 'email'" class="settings-panel">
        <h2>Configuration Email</h2>
        <form [formGroup]="emailForm" (ngSubmit)="onEmailSubmit()">
          <div class="form-row">
            <div class="form-group">
              <label for="smtpHost">Serveur SMTP</label>
              <input type="text" id="smtpHost" formControlName="smtpHost" class="form-control" placeholder="smtp.gmail.com">
            </div>

            <div class="form-group">
              <label for="smtpPort">Port SMTP</label>
              <input type="number" id="smtpPort" formControlName="smtpPort" class="form-control">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="smtpUsername">Nom d'utilisateur</label>
              <input type="text" id="smtpUsername" formControlName="smtpUsername" class="form-control">
            </div>

            <div class="form-group">
              <label for="smtpPassword">Mot de passe</label>
              <input type="password" id="smtpPassword" formControlName="smtpPassword" class="form-control">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="fromEmail">Email expéditeur</label>
              <input type="email" id="fromEmail" formControlName="fromEmail" class="form-control">
            </div>

            <div class="form-group">
              <label for="fromName">Nom expéditeur</label>
              <input type="text" id="fromName" formControlName="fromName" class="form-control">
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-outline-secondary" (click)="testEmailConnection()">
              <i class="fas fa-test-tube"></i>
              Tester la connexion
            </button>
            <button type="submit" class="btn btn-primary">Sauvegarder</button>
          </div>
        </form>
      </div>

      <!-- Security Settings -->
      <div *ngIf="activeTab === 'security'" class="settings-panel">
        <h2>Paramètres de Sécurité</h2>
        <form [formGroup]="securityForm" (ngSubmit)="onSecuritySubmit()">
          <div class="form-group">
            <label for="sessionTimeout">Timeout de session (minutes)</label>
            <input type="number" id="sessionTimeout" formControlName="sessionTimeout" class="form-control" min="5" max="120">
          </div>

          <div class="form-group">
            <label for="passwordMinLength">Longueur minimale du mot de passe</label>
            <input type="number" id="passwordMinLength" formControlName="passwordMinLength" class="form-control" min="6" max="20">
          </div>

          <div class="form-group checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="passwordRequireSpecialChars">
              <span class="checkmark"></span>
              Exiger des caractères spéciaux dans les mots de passe
            </label>
          </div>

          <div class="form-group checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="enableTwoFactor">
              <span class="checkmark"></span>
              Activer l'authentification à deux facteurs
            </label>
          </div>

          <div class="form-group checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="allowRememberMe">
              <span class="checkmark"></span>
              Autoriser "Se souvenir de moi"
            </label>
          </div>

          <button type="submit" class="btn btn-primary">Sauvegarder</button>
        </form>
      </div>
    </div>
  </div>
</div>
