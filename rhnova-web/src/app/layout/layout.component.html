<div class="app-layout" [class.sidebar-collapsed]="sidebarCollapsed()">
  <!-- Sidebar -->
  <aside class="sidebar" [@slideIn]="'in'">
    <div class="sidebar-header">
      <div class="logo" [class.collapsed]="sidebarCollapsed()">
        <div class="logo-icon">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
            <rect width="32" height="32" rx="8" fill="url(#gradient)"/>
            <path d="M8 12h16v8H8z" fill="white" opacity="0.9"/>
            <defs>
              <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#667eea"/>
                <stop offset="100%" style="stop-color:#764ba2"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <span class="logo-text" *ngIf="!sidebarCollapsed()">RhNova</span>
      </div>
      <button class="sidebar-toggle" (click)="toggleSidebar()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                [attr.d]="sidebarCollapsed() ? 'm9 18 6-6-6-6' : 'm15 18-6-6 6-6'"/>
        </svg>
      </button>
    </div>    <nav class="sidebar-nav">
      <div class="nav-section">
        <h3 class="nav-section-title" *ngIf="!sidebarCollapsed()">Main</h3>        <ul class="nav-list">
          <!-- Dashboard - Available for Admin only -->
          <li class="nav-item" *ngIf="isAdmin()">
            <a routerLink="/dashboard" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="3" width="7" height="7"/>
                <rect x="14" y="3" width="7" height="7"/>
                <rect x="14" y="14" width="7" height="7"/>
                <rect x="3" y="14" width="7" height="7"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Admin Dashboard</span>
            </a>          </li>

          <!-- HR Navigation -->
          <li class="nav-item" *ngIf="isHR()">
            <a routerLink="/hr" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="8.5" cy="7" r="4"/>
                <path d="M20 8v6"/>
                <path d="M23 11h-6"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">HR Management</span>
            </a>
          </li>

          <!-- Candidate Navigation -->
          <ng-container *ngIf="isCandidate()">
            <li class="nav-item">
              <a routerLink="/candidate/profile" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                  <circle cx="12" cy="7" r="4"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Complete Profile</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/candidate/profileview" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                  <circle cx="12" cy="7" r="4"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Mon Profile</span>
              </a>
            </li>
            
            <!-- <li class="nav-item">
              <a routerLink="/candidate/cv" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                  <polyline points="14,2 14,8 20,8"/>
                  <line x1="16" y1="13" x2="8" y2="13"/>
                  <line x1="16" y1="17" x2="8" y2="17"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Build CV</span>
              </a>
            </li> -->
            
            <li class="nav-item">
              <a routerLink="/candidate/jobs" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <circle cx="12" cy="12" r="10"/>
                  <polyline points="12,6 12,12 16,14"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Browse Jobs</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a routerLink="/candidate/applications" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                  <polyline points="14,2 14,8 20,8"/>
                  <line x1="16" y1="13" x2="8" y2="13"/>
                  <line x1="16" y1="17" x2="8" y2="17"/>
                  <polyline points="10,9 9,10 8,9"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">My Applications</span>
              </a>
            </li>
          </ng-container>

          <!-- Manager Navigation -->
          <ng-container *ngIf="isManager()">
            <li class="nav-item">
              <a routerLink="/manager/dashboard" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <rect x="3" y="3" width="7" height="7"/>
                  <rect x="14" y="3" width="7" height="7"/>
                  <rect x="14" y="14" width="7" height="7"/>
                  <rect x="3" y="14" width="7" height="7"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Manager Dashboard</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/manager/projects" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <rect x="3" y="3" width="7" height="7"/>
                  <rect x="14" y="3" width="7" height="7"/>
                  <rect x="14" y="14" width="7" height="7"/>
                  <rect x="3" y="14" width="7" height="7"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Manager Projects</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/manager/manager-team" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                  <circle cx="9" cy="7" r="4"/>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">My Teams</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a routerLink="/manager/tasks" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                  <polyline points="14,2 14,8 20,8"/>
                  <line x1="16" y1="13" x2="8" y2="13"/>
                  <line x1="16" y1="17" x2="8" y2="17"/>
                  <polyline points="10,9 9,10 8,9"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Manage Tasks</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a routerLink="/manager/progress" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <line x1="18" y1="20" x2="18" y2="10"/>
                  <line x1="12" y1="20" x2="12" y2="4"/>
                  <line x1="6" y1="20" x2="6" y2="14"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Track Progress</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a routerLink="/manager/leave-requests" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                  <line x1="16" y1="2" x2="16" y2="6"/>
                  <line x1="8" y1="2" x2="8" y2="6"/>
                  <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Leave Requests</span>
              </a>
            </li>
          </ng-container>

          <!-- Team Member Navigation -->
          <ng-container *ngIf="isTeamMember()">
            <li class="nav-item">
              <a routerLink="/team-member/dashboard" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <rect x="3" y="3" width="7" height="7"/>
                  <rect x="14" y="3" width="7" height="7"/>
                  <rect x="14" y="14" width="7" height="7"/>
                  <rect x="3" y="14" width="7" height="7"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">My Dashboard</span>
              </a>
            </li>
            
            
            
            <li class="nav-item">
              <a routerLink="/team-member/team" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                  <circle cx="9" cy="7" r="4"/>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">My Team</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a routerLink="/team-member/tasks" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                  <polyline points="14,2 14,8 20,8"/>
                  <line x1="16" y1="13" x2="8" y2="13"/>
                  <line x1="16" y1="17" x2="8" y2="17"/>
                  <polyline points="10,9 9,10 8,9"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">My Tasks</span>
              </a>
            </li>
              <li class="nav-item">
              <a routerLink="/team-member/request-leave" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                  <line x1="16" y1="2" x2="16" y2="6"/>
                  <line x1="8" y1="2" x2="8" y2="6"/>
                  <line x1="3" y1="10" x2="21" y2="10"/>
                  <line x1="12" y1="14" x2="12" y2="18"/>
                  <line x1="10" y1="16" x2="14" y2="16"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">Request Leave</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a routerLink="/team-member/my-leave-requests" routerLinkActive="active" class="nav-link">
                <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                  <line x1="16" y1="2" x2="16" y2="6"/>
                  <line x1="8" y1="2" x2="8" y2="6"/>
                  <line x1="3" y1="10" x2="21" y2="10"/>
                  <path d="M8 14l2 2 4-4"/>
                </svg>
                <span class="nav-text" *ngIf="!sidebarCollapsed()">My Leave Requests</span>
              </a>
            </li>
          </ng-container>          <!-- Tasks - Available for Admin only -->
          <li class="nav-item" *ngIf="isAdmin()">
            <a routerLink="/tasks" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14,2 14,8 20,8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
                <polyline points="10,9 9,10 8,9"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Tasks</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- HR Quick Actions Section -->
      <div class="nav-section" *ngIf="isHR()">
        <h3 class="nav-section-title" *ngIf="!sidebarCollapsed()">HR Quick Actions</h3>
        <ul class="nav-list">
          <li class="nav-item">
            <a routerLink="/hr/employees" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 11l-2-2"/>
                <path d="M23 13l-2 2"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Manage Employees</span>
            </a>
          </li>

          <li class="nav-item">
            <a routerLink="/hr/recruitment" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="11" cy="11" r="8"/>
                <path d="M21 21l-4.35-4.35"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Recruitment</span>
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/hr/job-offers" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                <line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Post Job Offer</span>
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/hr/interviews" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <line x1="18" y1="20" x2="18" y2="10"/>
                <line x1="12" y1="20" x2="12" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="14"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Manage Interviews</span>
            </a>
          </li>
                <li class="nav-item">
            <a routerLink="/hr/leave-management" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Leave Management</span>
            </a>
          </li>
        </ul>      </div>

      <!-- Manager Quick Actions Section -->
      <div class="nav-section" *ngIf="isManager()">
        <h3 class="nav-section-title" *ngIf="!sidebarCollapsed()">Manager Actions</h3>
        <ul class="nav-list">
          <li class="nav-item">
            <a routerLink="/admin/teams" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Create Team</span>
            </a>
          </li>

          

          <li class="nav-item">
            <a routerLink="/manager/team-overview" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <line x1="18" y1="20" x2="18" y2="10"/>
                <line x1="12" y1="20" x2="12" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="14"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Team Overview</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- Team Member Quick Actions Section -->
      <div class="nav-section" *ngIf="isTeamMember()">
        <h3 class="nav-section-title" *ngIf="!sidebarCollapsed()">Quick Actions</h3>
        <ul class="nav-list">
          <li class="nav-item">
            <a routerLink="/team-member/update-task" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Update Tasks</span>
            </a>
          </li>

          <li class="nav-item">
            <a routerLink="/team-member/request-leave" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
                <line x1="12" y1="14" x2="12" y2="18"/>
                <line x1="10" y1="16" x2="14" y2="16"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Request Leave</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- Admin Quick Actions Section -->
      <div class="nav-section" *ngIf="isAdmin()">
        <h3 class="nav-section-title" *ngIf="!sidebarCollapsed()">Admin Quick Actions</h3>
        <ul class="nav-list">
          <li class="nav-item">
            <a routerLink="/admin/users" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="m13 7 5 5"/>
                <path d="m17 7-5 5"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Add New User</span>
            </a>
          </li>

          

          <li class="nav-item">
            <a routerLink="/admin/teams" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">Create Team</span>
            </a>
          </li>

          <!-- <li class="nav-item">
            <a routerLink="/admin/reports" routerLinkActive="active" class="nav-link">
              <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <line x1="18" y1="20" x2="18" y2="10"/>
                <line x1="12" y1="20" x2="12" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="14"/>
              </svg>
              <span class="nav-text" *ngIf="!sidebarCollapsed()">View Reports</span>
            </a>
          </li> -->
        </ul>
      </div>
    </nav>    <div class="sidebar-footer">
      <div class="user-profile" *ngIf="!sidebarCollapsed() && currentUser()">
        <div class="user-avatar">
          <div class="avatar-placeholder">
            {{ (currentUser()?.name || 'U').charAt(0).toUpperCase() }}
          </div>
        </div>
        <div class="user-info">
          <div class="user-name">{{ currentUser()?.name || 'User' }}</div>
          <div class="user-role">{{ getRoleDisplayName(userRole()) }}</div>
        </div>
      </div>
      
      <!-- Logout Button -->
      <button 
        class="logout-btn" 
        (click)="logout()"
        [title]="sidebarCollapsed() ? 'Logout' : ''"
      >
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
          <polyline points="16,17 21,12 16,7"/>
          <line x1="21" y1="12" x2="9" y2="12"/>
        </svg>
        <span class="logout-text" *ngIf="!sidebarCollapsed()">Logout</span>
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Top Navigation -->
    <header class="top-nav" [@fadeIn]="'in'">
      <div class="nav-left">
        <h1 class="page-title">{{ getPageTitle() }}</h1>
      </div>
      
      <div class="nav-right">
        <button class="nav-button">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
          </svg>
        </button>
        
        <div class="user-dropdown">
          <button class="user-button">
          </button>
        </div>
      </div>  
    </header>

    <!-- Page Content -->
    <div class="page-content">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>
